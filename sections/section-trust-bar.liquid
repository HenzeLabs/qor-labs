{%- comment -%}
  SECTION: Trust Bar
  Rapha-inspired horizontal strip with trust signals.
  Clean, minimal â€” no emojis, no exclamation marks.
{%- endcomment -%}

<section id="TrustBar-{{ section.id }}" class="trust-bar-section">
  <div class="trust-bar-section__container">
    <div class="trust-bar-section__grid">
      {%- for block in section.blocks -%}
        <div class="trust-bar-section__item" {{ block.shopify_attributes }}>
          {%- if block.settings.icon != 'none' -%}
            <div class="trust-bar-section__icon">
              {%- case block.settings.icon -%}
                {%- when 'shipping' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="1" y="3" width="15" height="13"></rect>
                    <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon>
                    <circle cx="5.5" cy="18.5" r="2.5"></circle>
                    <circle cx="18.5" cy="18.5" r="2.5"></circle>
                  </svg>
                {%- when 'warranty' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                    <polyline points="9 12 11 14 15 10"></polyline>
                  </svg>
                {%- when 'clock' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                  </svg>
                {%- when 'support' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                  </svg>
                {%- when 'star' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                  </svg>
                {%- when 'check' -%}
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                  </svg>
              {%- endcase -%}
            </div>
          {%- endif -%}
          <div class="trust-bar-section__text">
            {%- if block.settings.label != blank -%}
              <span class="trust-bar-section__label">{{ block.settings.label }}</span>
            {%- endif -%}
            {%- if block.settings.description != blank -%}
              <span class="trust-bar-section__description">{{ block.settings.description }}</span>
            {%- endif -%}
          </div>
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>

<style>
  .trust-bar-section {
    background-color: var(--color-surface, #FAFAF8);
    border-top: 1px solid var(--color-border, #E0DED9);
    border-bottom: 1px solid var(--color-border, #E0DED9);
    padding: var(--space-lg, 1.5rem) var(--space-md, 1rem);
  }

  .trust-bar-section__container {
    max-width: var(--container-max, 80rem);
    margin: 0 auto;
  }

  .trust-bar-section__grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-lg, 1.5rem);
  }

  .trust-bar-section__item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-sm, 0.5rem);
    text-align: left;
  }

  .trust-bar-section__icon {
    flex-shrink: 0;
    width: 24px;
    height: 24px;
    color: var(--color-text-primary, #1A1A1A);
  }

  .trust-bar-section__icon svg {
    width: 100%;
    height: 100%;
  }

  .trust-bar-section__text {
    display: flex;
    flex-direction: column;
    gap: 2px;
  }

  .trust-bar-section__label {
    font-family: var(--font-body, 'DM Sans', sans-serif);
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--color-text-primary, #1A1A1A);
    line-height: 1.3;
  }

  .trust-bar-section__description {
    font-family: var(--font-body, 'DM Sans', sans-serif);
    font-size: 0.75rem;
    font-weight: 400;
    color: var(--color-text-secondary, #6B6B6B);
    line-height: 1.4;
  }

  /* Tablet and up: 4 columns */
  @media (min-width: 768px) {
    .trust-bar-section {
      padding: var(--space-xl, 2rem) var(--space-lg, 1.5rem);
    }

    .trust-bar-section__grid {
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-xl, 2rem);
    }

    .trust-bar-section__item {
      justify-content: center;
      text-align: center;
      flex-direction: column;
      align-items: center;
    }

    .trust-bar-section__icon {
      margin-bottom: var(--space-xs, 0.25rem);
    }

    .trust-bar-section__text {
      align-items: center;
    }
  }

  /* Desktop */
  @media (min-width: 1024px) {
    .trust-bar-section__label {
      font-size: 0.8125rem;
    }

    .trust-bar-section__description {
      font-size: 0.8125rem;
    }
  }
</style>

{% schema %}
{
  "name": "Trust Bar",
  "tag": "section",
  "class": "section-trust-bar",
  "max_blocks": 4,
  "settings": [],
  "blocks": [
    {
      "type": "trust_item",
      "name": "Trust item",
      "settings": [
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "options": [
            { "value": "none", "label": "None" },
            { "value": "shipping", "label": "Shipping truck" },
            { "value": "warranty", "label": "Shield (warranty)" },
            { "value": "clock", "label": "Clock (fast)" },
            { "value": "support", "label": "Chat (support)" },
            { "value": "star", "label": "Star (quality)" },
            { "value": "check", "label": "Checkmark" }
          ],
          "default": "shipping"
        },
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Free Shipping"
        },
        {
          "type": "text",
          "id": "description",
          "label": "Description",
          "default": "On orders over $300"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Trust Bar",
      "blocks": [
        {
          "type": "trust_item",
          "settings": {
            "icon": "shipping",
            "label": "Free Shipping",
            "description": "On orders over $300"
          }
        },
        {
          "type": "trust_item",
          "settings": {
            "icon": "warranty",
            "label": "2-Year Warranty",
            "description": "On all instruments"
          }
        },
        {
          "type": "trust_item",
          "settings": {
            "icon": "clock",
            "label": "Ships in 24hrs",
            "description": "Most items in stock"
          }
        },
        {
          "type": "trust_item",
          "settings": {
            "icon": "support",
            "label": "Expert Support",
            "description": "Lab specialists on call"
          }
        }
      ]
    }
  ]
}
{% endschema %}
